<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="practicafilter.js" charset="utf-8"></script>
    <script src="js/gestionPresupuesto.js" charset="utf-8"></script>
    <title>Practica Filter javascript</title>
</head>
<body>
    <script>
        let valor1 = 23.44,
            valor2 = 12.88,
            valor3 = 22.80,
            valor4 = 62.22,
            valor5 = 304.75,
            valor6 = 195.88;

        let gasto1 = new CrearGasto("Compra carne", valor1, "2021-10-06", "casa", "comida" );
        let gasto2 = new CrearGasto("Compra fruta y verdura", valor2, "2021-09-06", "supermercado", "comida" );
        let gasto3 = new CrearGasto("Bonob√∫s", valor3, "2020-05-26", "transporte" );
        let gasto4 = new CrearGasto("Gasolina", valor4, "2021-10-08", "transporte", "gasolina" );
        let gasto5 = new CrearGasto("Seguro hogar", valor5, "2021-09-26", "casa", "seguros" );
        let gasto6 = new CrearGasto("Seguro coche", valor6, "2021-10-06", "transporte", "seguros" );
        anyadirGasto(gasto1);
        anyadirGasto(gasto2);
        anyadirGasto(gasto3);
        anyadirGasto(gasto4);
        anyadirGasto(gasto5);
        anyadirGasto(gasto6);

        // console.log(gastos.length);
        let fechadesde=filtrarGastos({etiquetasTiene: ["comida", "gasolina"]});
        // console.log(fechadesde);
        // console.log(fechadesde.length);
        // let group1=agruparGastos("mes");
        // let group2=agruparGastos("dia");
        let group4=agruparGastos("mes", ["transporte"]);
        // let group3=agruparGastos("anyo");

        // const groupby=group1.reduce(function(sum,obj){
        //     let key=obj.obtenerPeriodoAgrupacion("mes");
        //     if(!sum[key]){
        //         sum[key]=0;
        //     }
        //     sum[key]+=obj.valor;
        //     return sum;
        // },{});
        // console.log(group1);
        // console.log(group2);
        console.log(group4);
        // console.log(group3);
        // console.log(groupby);
    </script>

    <!-- <script>
        Fecha();
        let fechaObjects={};
        let fecha_valida=FechaValida("2012-01-23");
        let fecha_valida2=FechaValida("2012-01-23");

        document.write("<p>" + ParseFecha() + "</p>");
        document.write("<p>" + FechaValida("2012-01-23") + "</p>");
        document.write("<p>" + fecha_valida2 + "</p>");
        document.write("<p>" + fechashasta.length + "</p>");
        document.write("<p>" + fechasfin.length + "</p>");
        console.log(fechashasta);
        console.log(fechasfin);
        for(let fecha of fechasfin){
            console.log(new Date(fecha));
        }
        if ( fecha_valida === fecha_valida2){
            console.log("Fechas iguales ");
        }
        let fecha1=new Date("2012-01-23").getTime();
        let fecha2=new Date("2012-01-23").getTime();
        let fecha3=new Date("2012-01-23").getTime();
        let fecha4=new Date("2012-01-24").getTime();
        let fecha5=new Date("2012-01-25").getTime();
        let fecha6=new Date("2012-01-26").getTime();
        fechas=[fecha1,fecha2,fecha3,fecha4,fecha5,fecha6];
        // let f=fechas.filter(function(fecha){
        //     for(let i=0; i<fechas.length; i++){
        //         if (fecha == fechas[i])
        //             return fecha;
        //     }
        // });
        fechas.forEach((key) =>{
            if (!( key in fechaObjects) ){
                fechaObjects[key]=[`${key}`];
            }
            else{
                fechaObjects[key].push(`${key}`)
            }

        });
        console.log(fechaObjects );


    </script> -->
</body>
</html>
